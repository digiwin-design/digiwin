'use strict';new Vue({el:'#app',data:function a(){return{newContent:{id:null,title:'',key:''},content:[]}},computed:{firebaseConfig:function a(){return{apiKey:'AIzaSyAHt_p6RibnGGyi2PWES5kQi7K5-m_9lNs',authDomain:'digiwin-4a7d3.firebaseapp.com',databaseURL:'https://digiwin-4a7d3.firebaseio.com',projectId:'digiwin-4a7d3',storageBucket:'digiwin-4a7d3.appspot.com',messagingSenderId:'306272678210',appId:'1:306272678210:web:d0f8a849f5902ba0e498db'}},existed:function b(){var a=!0;for(var c in this.content)if(this.content.hasOwnProperty(c)){var d=this.content[c];if(d.id===this.newContent.id){a=!1;break}}return a}},methods:{submitHandler:function b(){if(!this.existed)return alert(this.newContent.id+' \u7684 ID \u5DF2\u5B58\u5728'),void this.$refs.id.select();var a=firebase.database().ref('resources');a.push(this.newContent),this.newContent.id=null,this.newContent.title='',this.$refs.id.focus()},getContent:function c(){var a=this,b=firebase.database().ref('resources');b.orderByChild('id').on('value',function(b){var c=[];b.forEach(function(a){var b=a.val(),d=b.id,e=b.title;c.push({id:d,title:e,key:a.key})}),c.reverse(),a.content=c})},deleteHandler:function b(a){if(confirm('\u78BA\u5B9A\u522A\u9664\uFF1F')){var c=firebase.database().ref('resources/'+a);c.remove()}}},created:function a(){0===firebase.apps.length&&firebase.initializeApp(this.firebaseConfig),this.getContent()}});
