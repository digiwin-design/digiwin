'use strict';// 取得網址參數
function getParameterByName(a){var b=new URL(location.href),c=b.searchParams;return c.get(a)}// 轉址
// 電腦/手機版轉址
// BUG：電腦開啟手機版網址無法自動轉址(重新整理始可)
// add production/no-production class
// 修改手機版電話號碼(與後台電腦版連動)
// 設置文章閱讀權限及插入訂閱表單
// 表單標題清單：/tw/dsc/assets/lineMember/form.json
// 文章插入廣告
// 廣告清單：/tw/dsc/assets/article-ad/db.json
// 解決主選單擋住文章內容的問題
// 解決文章右側定位問題
// 將活動介紹頁網址中的 userId 加至"立即報名"連結上
// 右下角浮動廣告
(function(){var a=location.pathname.replace(/(.html|.htm)$/,'')+location.hash,b=[{before:'/tw/list.html',after:'/tw/ERP/erp-all.html'},{before:'/tw/dsc/marketing/WB002838/WB00283803.htm',after:'/tw/dsc/marketing/WB002838/web/03/'}].find(function(b){b=b.before.replace(/(.html|.htm)$/,'');var c=new RegExp(b+'$');return-1!==a.search(c)});// 比對網址成功後進行轉址
b&&location.replace(b.after)})(),function(){var a=location.pathname.replace(/(.html|.htm)$/,'')+location.hash,b=new MobileDetect(window.navigator.userAgent),c=b.mobile()?'desktop':'mobile';// 判斷目的裝置
// 比對網址
document.querySelector('html').classList.add(b.os()),fetch('/tw/dsc/assets/awd-list.json').then(function(a){return a.json()}).then(function(b){var d=b.list.find(function(b){b[c]=b[c].replace(/(.html|.htm)/,'');var d=new RegExp(b[c]+'$');return d.test(a)});// 如比對成功進行轉址
d&&'desktop'==c?location.replace(d.mobile):d&&'mobile'==c&&location.replace(d.desktop)})}(),function(){var a='www.digiwin.com'===location.hostname?'production':'no-production';document.querySelector('html').classList.add(a)}(),$(function(){var a=document.querySelector('#toolbar .p-2');if(a){var b=a.innerText.trim();document.querySelector('.xz-fudong a').setAttribute('href','tel:'+b)}}),$(function(){var a=location.pathname.replace(/(.html|.htm)$/,'');// 取得加入閱讀權限的文章
fetch('/tw/dsc/assets/lineMember/login.json').then(function(a){return a.json()}).then(function(b){// 比對網址成功後載入對應的外部連結
var c=b.find(function(b){b=b.replace(/(.html|.htm)$/,'');var c=new RegExp(b+'$');return-1!==a.search(c)});if(c){var d=document.querySelector('head'),e=document.createElement('link');e.href='/tw/dsc/assets/lineMember/css/lineMember.css',e.rel='stylesheet',d.appendChild(e);var f=document.createElement('link');f.href='/tw/dsc/assets/lineMember/images/lineMember/btn-h.png',f.rel='preload',f.as='image',d.appendChild(f),$.getScript('/tw/dsc/assets/lineMember/js/lineMember.min.js')}})}),$(function(){var a=location.pathname.replace(/(.html|.htm)$/,'');// 取得插入廣告的文章
fetch('/tw/dsc/assets/article-ad/db.json').then(function(a){return a.json()}).then(function(b){// 比對網址成功後載入對應的外部連結
var c=b.find(function(b){b=b.url.replace(/(.html|.htm)$/,'');var c=new RegExp(b+'$');return-1!==a.search(c)});if(c){// 在文章標籤下方插入廣告
var d=document.createElement('img');d.src=c.imgSrc;var e=document.createElement('a');e.href=c.link,e.target='_blank',e.style.display='block',e.appendChild(d),document.querySelector('.list-case-show .tag').insertAdjacentElement('afterend',e)}})}),$(function(){var a=function(){document.querySelector('header').style.zIndex=100},b=function(){setTimeout(function(){'none'===document.querySelector('#qcTopNavSheetWrapper').style.display&&document.querySelector('header').removeAttribute('style')},500)};'www.digiwin.com'!==location.hostname||(document.querySelector('.nav').addEventListener('mouseenter',a),document.querySelector('.nav').addEventListener('mouseleave',b),document.querySelector('#qcTopNavSheetWrapper').addEventListener('mouseenter',a),document.querySelector('#qcTopNavSheetWrapper').addEventListener('mouseleave',b))}),$(function(){window.addEventListener('scroll',function(){document.querySelector('aside.rightbox')&&document.querySelector('aside.rightbox').classList.remove('asideFixed','topscorll','asideBottom')})}),$(function(){var a=getParameterByName('userId'),b=document.querySelector('.list-cc .button a'),c=document.querySelector('.list-case-show .abutton a');a&&b&&c&&(b.href+='&userId='+a,c.href+='&userId='+a)}),$(function(){'function'==typeof dayjs||$.when($.ajax('/tw/dsc/assets/ad/db.json'),$.getScript('/tw/dsc/assets/ad/dayjs/dayjs.min.js'),$.getScript('/tw/dsc/assets/ad/dayjs/isBetween.js')).done(function(a){var b=a[0].filter(function(a){return location.pathname.replace(/(.html|.htm)$/,'')===a.url.replace(/(.html|.htm)$/,'')});if(b.length){var c=document.createElement('div');c.id='ad',document.querySelector('body').appendChild(c),new Vue({el:'#ad',components:{ad:httpVueLoader('/tw/dsc/assets/ad/Ad.vue')},computed:{info:function a(){return b[0]}},template:'<ad :info="info"></ad>'})}})});
